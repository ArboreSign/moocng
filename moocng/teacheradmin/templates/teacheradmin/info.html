{% extends "teacheradmin/base_teacheradmin.html" %}

{% load i18n %}

{% block extraheader %}
{{ form.media }}
{% endblock %}

{% block nav-teacheradmin-info %}active{% endblock %}

{% block section %}
<form action="" method="post" enctype="multipart/form-data">{% csrf_token %}
    {{ form.non_field_errors }}
    <div class="row">
        <div class="span10">
            <p>
                {{ form.status.errors }}
                {{ form.status.label_tag }}
                {{ form.status }}
                {% if form.status.help_text %}<span class="help-inline">{{ form.status.help_text }}</span>{% endif %}
            </p>
        </div>
    </div>
    <div class="row">
        <div class="span5">
            <p>
                {{ form.name.errors }}
                {{ form.name.label_tag }}
                {{ form.name }}
                {% if form.name.help_text %}<span class="help-inline">{{ form.name.help_text }}</span>{% endif %}
            <p>
                {{ form.promotion_media_content_type.errors }}
                {{ form.promotion_media_content_type.label_tag }}
                {{ form.promotion_media_content_type }}
                {% if form.promotion_media_content_type.help_text %}<span class="help-inline">{{ form.promotion_media_content_type.help_text }}</span>{% endif %}
            </p>
            <p>
                {{ form.promotion_media_content_id.errors }}
                <label for="id_promotion_media_content_id">{% trans "Content id or url" %}</label>
                {{ form.promotion_media_content_id }}
                {% if form.promotion_media_content_id.help_text %}<span class="help-inline">{{ form.promotion_media_content_id.help_text }}</span>{% endif %}
            </p>
            <p>
                {{ form.max_reservations_pending.errors }}
                {{ form.max_reservations_pending.label_tag }}
                {{ form.max_reservations_pending }}
                {% if form.max_reservations_pending.help_text %}<span class="help-inline">{{ form.max_reservations_pending.help_text }}</span>{% endif %}
            </p>
            <p>
                {{ form.enrollment_method.errors }}
                {{ form.enrollment_method.label_tag }}
                {{ form.enrollment_method }}
                {% if form.enrollment_method.help_text %}<span class="help-inline">{{ form.enrollment_method.help_text }}</span>{% endif %}
            </p>
        </div>
        <div class="span5">
            <p>
                {{ form.start_date.errors }}
                {{ form.start_date.label_tag }}
                <input type="date" name="start_date" id="start_date" value="{{ form.start_date.value|date:'Y-m-d' }}" class="input-xlarge" />
                {% if form.start_date.help_text %}<span class="help-inline">{{ form.start_date.help_text }}</span>{% endif %}
            </p>
            <p>
                {{ form.end_date.errors }}
                {{ form.end_date.label_tag }}
                <input type="date" name="end_date" id="end_date" value="{{ form.end_date.value|date:'Y-m-d' }}" class="input-xlarge" />
                {% if form.end_date.help_text %}<span class="help-inline">{{ form.end_date.help_text }}</span>{% endif %}
            </p>
            <p>
                {{ form.threshold.errors }}
                {{ form.threshold.label_tag }}
                {{ form.threshold }}
                {% if form.threshold.help_text %}<span class="help-inline">{{ form.threshold.help_text }}</span>{% endif %}
            </p>
            <p>
                {{ form.max_reservations_total.errors }}
                {{ form.max_reservations_total.label_tag }}
                {{ form.max_reservations_total }}
                {% if form.max_reservations_total.help_text %}<span class="help-inline">{{ form.max_reservations_total.help_text }}</span>{% endif %}
            </p>
            <p>
                {{ form.completion_badge.errors }}
                {{ form.completion_badge.label_tag }}
                {{ form.completion_badge }}
                {% if form.completion_badge.help_text %}<span class="help-inline">{{ form.completion_badge.help_text }}</span>{% endif %}
            </p>
        </div>
    </div>
    <ul class="nav nav-tabs">
        <li class="active">
            <a href="#tab-description" data-toggle="tab">{{ form.description.label }}</a>
        </li>
        <li>
            <a href="#tab-requirements" data-toggle="tab">{{ form.requirements.label }}</a>
        </li>
        <li>
            <a href="#tab-intended_audience" data-toggle="tab">{{ form.intended_audience.label }}</a>
        </li>
        <li>
            <a href="#tab-estimated_effort" data-toggle="tab">{{ form.estimated_effort.label }}</a>
        </li>
        <li>
            <a href="#tab-learning_goals" data-toggle="tab">{{ form.learning_goals.label }}</a>
        </li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane active" id="tab-description">
            {{ form.description.errors }}
            {{ form.description.label_tag }}
            {{ form.description }}
            {% if form.description.help_text %}<span class="help-block">{{ form.description.help_text }}</span>{% endif %}
        </div>
        <div class="tab-pane" id="tab-requirements">
            {{ form.requirements.errors }}
            {{ form.requirements.label_tag }}
            {{ form.requirements }}
            {% if form.requirements.help_text %}<span class="help-block">{{ form.requirements.help_text }}</span>{% endif %}
        </div>
        <div class="tab-pane" id="tab-intended_audience">
            {{ form.intended_audience.errors }}
            {{ form.intended_audience.label_tag }}
            {{ form.intended_audience }}
            {% if form.intended_audience.help_text %}<span class="help-block">{{ form.intended_audience.help_text }}</span>{% endif %}
        </div>
        <div class="tab-pane" id="tab-estimated_effort">
            {{ form.estimated_effort.errors }}
            {{ form.estimated_effort.label_tag }}
            {{ form.estimated_effort }}
            {% if form.estimated_effort.help_text %}<span class="help-block">{{ form.estimated_effort.help_text }}</span>{% endif %}
        </div>
        <div class="tab-pane" id="tab-learning_goals">
            {{ form.learning_goals.errors }}
            {{ form.learning_goals.label_tag }}
            {{ form.learning_goals }}
            {% if form.learning_goals.help_text %}<span class="help-block">{{ form.learning_goals.help_text }}</span>{% endif %}
        </div>
    </div>

    <!-- EXTERNAL APPS TAB -->
    <p>External apps</p>
    <ul class="nav nav-tabs">
        {% for external_app in external_apps %}
            {% if forloop.first %}<li class="active">{% else %}<li>{% endif %}
                <a href="#tab-{{external_app}}" data-toggle="tab">{{ external_app }}</a>
            </li>
        {% endfor %}
    </ul>
    <div class="tab-content">
        {% for external_app in external_apps %}
            {% if forloop.first %}<div class="tab-pane active" id="tab-{{external_app}}">{% else %}<div class="tab-pane" id="tab-{{external_app}}">{% endif %}
                {{ external_app }}
                <span class="help-block">{{external_app}}</span>
            </div>
        {% endfor %}
    </div>
    <!-- END EXTERNAL APPS TAB -->

    <p>
        {{ form.certification_available.errors }}
        <label for="id_certification_available" style="margin: 32px 0;">
          {{ form.certification_available }}
          {% trans "Certification available" %}
        </label>
        {% if form.certification_available.help_text %}<span class="help-inline">{{ form.certification_available.help_text }}</span>{% endif %}
    </p>
    <p>
        {{ form.certification_banner.errors }}
        {{ form.certification_banner.label_tag }}
        {{ form.certification_banner }}
        {% if form.certification_banner.help_text %}<span class="help-inline">{{ form.certification_banner.help_text }}</span>{% endif %}
    </p>
    <p class="form-actions">
      <input type="submit" class="btn btn-primary" value="{% trans "Save" %}" />
    </p>
</form>
{% endblock %}
